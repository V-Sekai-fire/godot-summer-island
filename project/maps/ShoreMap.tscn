[gd_scene load_steps=36 format=2]

[ext_resource path="res://maps/geometry/HouseGeometry.tscn" type="PackedScene" id=1]
[ext_resource path="res://assets/textures/pbr/Rocks_08.png" type="Texture" id=2]
[ext_resource path="res://assets/textures/pbr/Water_002/Water_002_ao.png" type="Texture" id=3]
[ext_resource path="res://assets/textures/pbr/Rocks_08/Rocks_08_ao.png" type="Texture" id=4]
[ext_resource path="res://assets/textures/pbr/Rocks_08/Rocks_08_depth.png" type="Texture" id=5]
[ext_resource path="res://assets/textures/pbr/Rocks_08/Rocks_08_normal.png" type="Texture" id=6]
[ext_resource path="res://assets/textures/pbr/water_uv_offset.png" type="Texture" id=7]
[ext_resource path="res://assets/textures/pbr/Water_002/Water_002_normal.png" type="Texture" id=8]
[ext_resource path="res://assets/textures/pbr/Water_002/Water_002_depth.png" type="Texture" id=9]
[ext_resource path="res://assets/textures/pbr/Water_002/Water_002_roughness.png" type="Texture" id=10]
[ext_resource path="res://maps/environs/ShoreMapEnv.tres" type="Environment" id=11]
[ext_resource path="res://objects/Table.tscn" type="PackedScene" id=12]
[ext_resource path="res://objects/PictureFrame.tscn" type="PackedScene" id=13]
[ext_resource path="res://objects/Stall.tscn" type="PackedScene" id=14]
[ext_resource path="res://objects/TVStand.tscn" type="PackedScene" id=15]
[ext_resource path="res://assets/textures/pbr/Fabric24.png" type="Texture" id=16]
[ext_resource path="res://objects/Wind.tscn" type="PackedScene" id=17]
[ext_resource path="res://assets/textures/pbr/Rocks_08/Rocks_08_roughness.png" type="Texture" id=18]
[ext_resource path="res://objects/StallRed.tscn" type="PackedScene" id=19]
[ext_resource path="res://objects/HangingLamp.tscn" type="PackedScene" id=20]
[ext_resource path="res://objects/BookShelf.tscn" type="PackedScene" id=21]
[ext_resource path="res://assets/materials/Glass.tres" type="Material" id=22]

[sub_resource type="SpatialMaterial" id=1]
flags_transparent = true
albedo_color = Color( 0.0509804, 0.168627, 0.321569, 0.803922 )
metallic = 0.83
metallic_specular = 0.35
roughness = 0.4
roughness_texture = ExtResource( 10 )
normal_enabled = true
normal_scale = 1.0
normal_texture = ExtResource( 8 )
ao_enabled = true
ao_light_affect = 0.0
ao_texture = ExtResource( 3 )
ao_on_uv2 = false
ao_texture_channel = 0
depth_enabled = true
depth_scale = 0.05
depth_deep_parallax = false
depth_flip_tangent = false
depth_flip_binormal = false
depth_texture = ExtResource( 9 )
detail_enabled = true
detail_mask = ExtResource( 7 )
detail_blend_mode = 3
detail_uv_layer = 0
detail_normal = ExtResource( 7 )

[sub_resource type="PlaneMesh" id=2]
material = SubResource( 1 )
size = Vector2( 150, 200 )
subdivide_width = 200
subdivide_depth = 200

[sub_resource type="SpatialMaterial" id=3]
albedo_texture = ExtResource( 2 )
roughness_texture = ExtResource( 18 )
normal_enabled = true
normal_scale = 1.5
normal_texture = ExtResource( 6 )
ao_enabled = true
ao_light_affect = 1.0
ao_texture = ExtResource( 4 )
ao_on_uv2 = false
ao_texture_channel = 0
depth_enabled = true
depth_scale = 0.05
depth_deep_parallax = true
depth_min_layers = 8
depth_max_layers = 32
depth_flip_tangent = false
depth_flip_binormal = false
depth_texture = ExtResource( 5 )
uv1_scale = Vector3( 0.08, 0.08, 0.08 )
uv1_triplanar = true

[sub_resource type="PlaneMesh" id=4]
material = SubResource( 3 )
size = Vector2( 150, 200 )

[sub_resource type="GIProbeData" id=5]
bounds = AABB( -49.4284, -27, -47.4733, 98.8568, 54, 94.9466 )
cell_size = 0.772319
to_cell_xform = Transform( 1.2948, 0, 0, 0, 1.2948, 0, 0, 0, 1.2948, 64, 34.9597, 61.4685 )
dynamic_data = PoolIntArray( 0, 8, 128, 128, 128, 36, 22, 0, 1031798784, 0, 1033895936, 0, 1035993088, 0, 1038090240, 0, -1, -1, -1, -1, -1, 1, -1, -1, 0, 0, 8355711, 0, -1, -1, 2, -1, -1, -1, -1, -1, 0, 0, 8355711, 65541, -1, -1, -1, -1, -1, -1, 3, -1, 0, 0, 8355711, 131115, -1, -1, -1, -1, -1, -1, 4, -1, 0, 0, 8355711, 196959, 14, 11, -1, -1, 5, 8, -1, -1, 0, 0, 8355711, 264959, -1, 6, -1, -1, -1, -1, -1, -1, 0, 0, 8355711, 331775, -1, 7, -1, 29, -1, 19, -1, 32, 0, 0, 8355711, 425983, -1, -1, -1, -1, -1, -1, -1, -1, 9975858, 0, 9437568, 524287, 9, 20, -1, -1, -1, -1, -1, -1, 0, 0, 8355711, 339967, 10, 22, 30, 26, 18, 17, 33, 34, 0, 0, 8355711, 458751, -1, -1, -1, -1, -1, -1, -1, -1, 13547168, -1718253017, 7602310, 524287, -1, -1, -1, -1, 12, -1, -1, -1, 0, 0, 8355711, 331775, -1, -1, -1, -1, 13, 24, 28, 27, 0, 0, 8355711, 425983, -1, -1, -1, -1, -1, -1, -1, -1, 10171181, 0, 8847500, 524287, -1, -1, -1, -1, -1, 15, -1, -1, 0, 0, 8355711, 329727, -1, -1, -1, -1, -1, 16, -1, 31, 0, 0, 8355711, 409599, -1, -1, -1, -1, -1, -1, -1, -1, 10229778, 0, 2634061, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10105389, 0, 7471475, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 9975602, 0, 9110122, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10167584, 0, 6881931, 524287, 23, -1, 25, -1, 21, -1, 35, -1, 0, 0, 8355711, 425983, -1, -1, -1, -1, -1, -1, -1, -1, 10491408, 0, 12654235, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 11632755, -1718253037, 7340410, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10037025, 0, 10093432, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10171182, 0, 7602572, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10428441, 0, 15711091, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10319982, -1718253042, 16488839, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 9981512, 0, 9429295, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 9852496, 0, 12091121, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 9914947, 0, 3332431, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10518132, -1718253039, 435594, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 8002584, 0, 1617476, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10429211, 0, 1948343, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 9786446, 0, 13795614, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 9786189, 0, 2992423, 524287, -1, -1, -1, -1, -1, -1, -1, -1, 10557453, 0, 15380401, 524287 )
dynamic_range = 2
energy = 0.3
bias = 1.5
normal_bias = 0.0
propagation = 0.5

[sub_resource type="SphereMesh" id=6]

[sub_resource type="BoxShape" id=7]
extents = Vector3( 1.37936, 0.225255, 0.202765 )

[sub_resource type="SpatialMaterial" id=8]
flags_transparent = true
params_blend_mode = 1
params_cull_mode = 2
params_depth_draw_mode = 1
albedo_color = Color( 1, 1, 1, 0.603922 )
albedo_texture = ExtResource( 16 )
transmission_enabled = true
transmission = Color( 1, 1, 1, 1 )
uv1_scale = Vector3( 4, 0.1, 1 )

[sub_resource type="PlaneMesh" id=9]
material = SubResource( 8 )
size = Vector2( 3.4, 3.2 )
subdivide_width = 5
subdivide_depth = 5

[sub_resource type="CubeMesh" id=10]
material = ExtResource( 22 )
size = Vector3( 16, 0.1, 1.8 )

[sub_resource type="CubeMesh" id=11]
material = ExtResource( 22 )
size = Vector3( 3.8, 0.1, 3 )

[sub_resource type="CubeMesh" id=12]
material = ExtResource( 22 )
size = Vector3( 3.8, 0.1, 6 )

[sub_resource type="CubeMesh" id=13]
material = ExtResource( 22 )
size = Vector3( 1.9, 0.1, 3 )

[node name="ShoreMap" type="Node"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 11 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.95536, 0.132762, 0.263935, -0.234062, 0.885245, 0.401941, -0.180284, -0.445775, 0.876802, 0, 13.4081, 12.2218 )
light_color = Color( 0.976471, 0.972549, 0.929412, 1 )
shadow_enabled = true
shadow_color = Color( 0.0588235, 0.0745098, 0.152941, 1 )
directional_shadow_normal_bias = 0.5
directional_shadow_max_distance = 600.0

[node name="Camera" type="Camera" parent="."]
transform = Transform( -0.707107, -0.159064, 0.688984, 0, 0.97437, 0.224951, -0.707107, 0.159064, -0.688984, 8.7, 12.5, 15.5 )
__meta__ = {
"_editor_description_": ""
}

[node name="Positions" type="Node" parent="Camera"]

[node name="HouseToSea" type="Position3D" parent="Camera/Positions"]
transform = Transform( 1, 0, 0, 0, 0.992546, 0.121869, 0, -0.121869, 0.992546, 0, 10.8, 25 )

[node name="SeaToHouse" type="Position3D" parent="Camera/Positions"]
transform = Transform( -1, 0, 3.25841e-07, 0, 1, 0, -3.25841e-07, 0, -1, 1.3, 9.9, 11 )

[node name="FromKitchen" type="Position3D" parent="Camera/Positions"]
transform = Transform( -0.798636, -0.0524516, 0.599525, 0, 0.996195, 0.0871557, -0.601815, 0.0696057, -0.795597, 3.4, 11.9, 4.1 )

[node name="FromBackDoor" type="Position3D" parent="Camera/Positions"]
transform = Transform( -0.615662, -0.0960344, -0.782137, 0, 0.992546, -0.121869, 0.788011, -0.0750303, -0.611073, -5.8, 11.1, 9.9 )

[node name="FromStair" type="Position3D" parent="Camera/Positions"]
transform = Transform( -0.707107, -0.159064, 0.688984, 0, 0.97437, 0.224951, -0.707107, 0.159064, -0.688984, 8.7, 12.5, 15.5 )

[node name="Geometry" type="Node" parent="."]

[node name="HouseGeometry" parent="Geometry" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6, 0 )

[node name="Environs" type="Node" parent="."]

[node name="SeaFace" type="MeshInstance" parent="Environs"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 43 )
mesh = SubResource( 2 )
material/0 = null
__meta__ = {
"_edit_lock_": true
}

[node name="SeaGround" type="MeshInstance" parent="Environs"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -6.77846, 43 )
mesh = SubResource( 4 )
material/0 = null

[node name="Lightings" type="Node" parent="."]

[node name="GIProbe" type="GIProbe" parent="Lightings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5404, -2.75435, -7.06521 )
extents = Vector3( 49.4284, 27, 47.4733 )
dynamic_range = 2
energy = 0.3
propagation = 0.5
data = SubResource( 5 )

[node name="HangingLamp" parent="Lightings" instance=ExtResource( 20 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.28489, 19.4594, 17 )
turn_on = true
flicker = false

[node name="Objects" type="Node" parent="."]

[node name="Sphere" type="CSGMesh" parent="Objects"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.262955, 12.6921, 5.61893 )
mesh = SubResource( 6 )

[node name="Table" parent="Objects" instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.49529, 7.9858, 16.6933 )

[node name="TableStalls" type="Spatial" parent="Objects"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.122316, 0 )

[node name="Stall" parent="Objects/TableStalls" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.3666, 7.5, 15.1141 )

[node name="Stall5" parent="Objects/TableStalls" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.85007, 7.5, 32.1107 )

[node name="Stall2" parent="Objects/TableStalls" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.30672, 7.5, 18 )

[node name="Stall4" parent="Objects/TableStalls" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.03988, 7.5, 14.9489 )

[node name="Stall3" parent="Objects/TableStalls" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.03988, 7.5, 18 )

[node name="BarStalls" type="Spatial" parent="Objects"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.30382, 7.71115, 8.52926 )

[node name="StallRed" parent="Objects/BarStalls" instance=ExtResource( 19 )]

[node name="StallRed4" parent="Objects/BarStalls" instance=ExtResource( 19 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.24205, 0, 22.7172 )

[node name="StallRed2" parent="Objects/BarStalls" instance=ExtResource( 19 )]
transform = Transform( 0.941476, 0, -0.337079, 0, 1, 0, 0.337079, 0, 0.941476, 2.60925, 0, 2.14365 )

[node name="StallRed3" parent="Objects/BarStalls" instance=ExtResource( 19 )]
transform = Transform( 0.861, 0, 0.508606, 0, 1, 0, -0.508606, 0, 0.861, 5.70851, 0, 2.14365 )

[node name="PictureFrame" parent="Objects" instance=ExtResource( 13 )]
transform = Transform( -0.996195, -0.0871557, -3.25841e-07, -0.0871557, 0.996195, 0, 3.24601e-07, 2.83989e-08, -1, 5.87402, 12.342, 10.8101 )

[node name="TVStand" parent="Objects" instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.387, 8.25595, 22.5 )

[node name="Curtain" type="StaticBody" parent="Objects"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 9.63849, 23.7599 )
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape" type="CollisionShape" parent="Objects/Curtain"]
shape = SubResource( 7 )

[node name="CurtainBody" type="SoftBody" parent="Objects/Curtain"]
transform = Transform( 1, 0, 0, 0, 0.199607, 0.979876, 0, -0.979876, 0.199607, 0, 1.48525, -0.109335 )
mesh = SubResource( 9 )
material/0 = null
pinned_points = [ 0, 4, 8, 12 ]
attachments/0/point_index = 0
attachments/0/spatial_attachment_path = NodePath("")
attachments/0/offset = Vector3( 0, 0, 0 )
attachments/1/point_index = 4
attachments/1/spatial_attachment_path = NodePath("")
attachments/1/offset = Vector3( 0, 0, 0 )
attachments/2/point_index = 8
attachments/2/spatial_attachment_path = NodePath("")
attachments/2/offset = Vector3( 0, 0, 0 )
attachments/3/point_index = 12
attachments/3/spatial_attachment_path = NodePath("")
attachments/3/offset = Vector3( 0, 0, 0 )

[node name="BookShelf" parent="Objects" instance=ExtResource( 21 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.23, 6, 18 )

[node name="Ambient" type="Node" parent="."]

[node name="Wind" parent="Ambient" instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.95944, 11, 26 )
dir = Vector3( 0, 0, -1 )
speed = 1.5
length = 5.0
blow = true

[node name="Wind2" parent="Ambient" instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.01246, 11.8054, 26 )
dir = Vector3( 0, 0, -1 )
speed = 1.5
length = 5.0
blow = true

[node name="Wind3" parent="Ambient" instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.01445, 11.147, 26 )
dir = Vector3( 0, 0, -1 )
speed = 0.9
length = 5.0
blow = true

[node name="Wind4" parent="Ambient" instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.44122, 11.6599, 26.7317 )
dir = Vector3( 0, 0, -1 )
speed = 0.3
length = 6.0
blow = true

[node name="GlassTest" type="Node" parent="."]

[node name="TestGlass" type="MeshInstance" parent="GlassTest"]
transform = Transform( 0.999998, 0, -0.00221657, 0.00221657, -4.37114e-08, 0.999998, -9.68892e-11, -1, -4.37113e-08, 1.98946, 13.7, 24.2875 )
mesh = SubResource( 10 )
material/0 = null

[node name="TestGlass2" type="MeshInstance" parent="GlassTest"]
transform = Transform( 0.999998, 0, -0.00221657, 0.00221657, -4.37114e-08, 0.999998, -9.68892e-11, -1, -4.37113e-08, -3.95932, 11.074, 24.2875 )
mesh = SubResource( 11 )
material/0 = null

[node name="TestGlass3" type="MeshInstance" parent="GlassTest"]
transform = Transform( 0.999998, 0, -0.00221657, 0.00221657, -4.37114e-08, 0.999998, -9.68892e-11, -1, -4.37113e-08, 0.140679, 9.46044, 24.3589 )
mesh = SubResource( 12 )
material/0 = null

[node name="TestGlass4" type="MeshInstance" parent="GlassTest"]
transform = Transform( 0.999998, 0, -0.00221657, 0.00221657, -4.37114e-08, 0.999998, -9.68892e-11, -1, -4.37113e-08, 0.951622, 9.46044, 24.1046 )
mesh = SubResource( 12 )
material/0 = null

[node name="TestGlass5" type="MeshInstance" parent="GlassTest"]
transform = Transform( 0.999998, 0, -0.00221657, 0.00221657, -4.37114e-08, 0.999998, -9.68892e-11, -1, -4.37113e-08, 8.96518, 11.074, 24.3848 )
mesh = SubResource( 13 )
material/0 = null

[node name="TestGlass6" type="MeshInstance" parent="GlassTest"]
transform = Transform( 0.999998, 0, -0.00221657, 0.00221657, -4.37114e-08, 0.999998, -9.68892e-11, -1, -4.37113e-08, 8.63677, 11.1295, 24.1394 )
mesh = SubResource( 13 )
material/0 = null
